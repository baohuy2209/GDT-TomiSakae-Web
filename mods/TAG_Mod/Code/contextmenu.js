$(function(){var o=UI.showContextMenu.bind(UI);UI.showContextMenu=function(l,e){for(var n=0;n<l.length;n++)"./images/context menu icons/icon_game_report.svg"!=l[n].icon&&"./images/context menu icons/icon_staff.svg"!=l[n].icon||(l.splice(n,1),n--);o(l,e);var t=UI.getCharUnderCursor(),r=!1,u=!0;t?(1<GameManager.company.currentLevel?($("#contextMenu").addClass("tm-staff-menu"),r=!0):$("#contextMenu").addClass("tm-general-menu"),$("#contextMenu").prepend(tagMod.buildStaffItem(t))):$("#contextMenu").addClass("tm-general-menu"),$("#contextMenu .contextMenuItem").removeClass("contextMenuItem contextMenuButton showState").addClass("btn-tm-icon"+(r?" btn-tm-icon-only":"")),$("#contextMenu .btn-tm-icon").each(function(e){if(!(e>=l.length)){var n=$(this),t=l[e],o=t.icon||t.label,a=t.label,c="",s="",i=!1;switch(o){case"./images/context menu icons/icon_new_game.svg":c="plus",a="New Game".localize(),s="newGameButton btn-moss-green";break;case"./images/context menu icons/icon_sequel.svg":c="plusPlus",a="Sequel".localize(),s="sequelButton btn-moss-green";break;case"./images/context menu icons/icon_contract.svg":c="triBars",a="Contracts".localize(),s="contractButton btn-intense-orange";break;case"./images/context menu icons/icon_game_history.svg":c="hourglass",a="Game History".localize(),s="gameHistoryButton btn-purple-blue";break;case"./images/context menu icons/icon_search.svg":c="rndBottleWhite",a="Start Research".localize(),s="researchButton btn-research-blue";break;case"./images/context menu icons/icon_customengine.svg":c="gearWheel",a="Engine Development".localize(),s="ctxEngineButton btn-hot-pink";break;case"./images/context menu icons/icon_train.svg":c="ribbon",a="Train".localize(),s="trainButton btn-ice-teal";break;case"./images/context menu icons/icon_staff_fire.svg":c="flame",a="Fire".localize(),s="fireButton btn-deep-red";break;case"./images/context menu icons/icon_vacation.svg":c="beachBall",a="Send on Vacation".localize(),s="vacationButton btn-pumpkin-yellow";break;case"./images/context menu icons/icon_marketing.svg":c="star",a="Marketing".localize(),s="marketingButton btn-gold";break;case"./images/context menu icons/icon_publishingdeal.svg":c="doubleMoneySign",a="Publisher Deals".localize(),s="publishingButton btn-velvet-red";break;case"./images/context menu icons/icon_patch.svg":c="chip",a="Develop Patch".localize(),s="patchButton btn-light-purple-blue";break;case"./images/context menu icons/icon_cloud_up.svg":c="chevron",a="Upload".localize(),s="uploadButton btn-ice-teal";break;case"./images/context menu icons/icon_cloud_down.svg":c="chevron",a="Download".localize(),s="downloadButton btn-moss-green";break;case"./images/context menu icons/icon_save_delete.svg":c="x",a="Delete".localize(),s="deleteButton btn-velvet-red";break;case"Start Project...".localize():c="rndBottleWhite",a="Start Research".localize(),s="rndResearchButton btn-research-blue";break;case"Cancel Project...".localize():c="x",a="Cancel Project".localize(),s="rndCancelButton btn-velvet-red";break;case"Develop Console...".localize():c="console",a="Develop Console".localize(),s="developConsoleButton btn-ice-teal";break;case"Take off market".localize():c="x",a="Take Off Market".localize(),s="takeOffMarketButton btn-velvet-red";break;case"./images/context menu icons/icon_expansion_pack.svg":c="expansion",a="Develop Expansion Pack".localize(),s="expansionPackButton btn-feature-blue";break;default:i=!0}n.find(".iconContainer").html('<img src="'+MOD_DIR+"Img/SVG/tag-"+c+'.svg" />'),n.find(".label").text(a),n.addClass(s),i&&(n.removeClass("btn-tm-icon-only").addClass("btn-tm-context-unknown"),u&&(r&&n.css("margin-top","60px"),u=!1))}})};var t=UI.closeContextMenu.bind(UI);UI.closeContextMenu=function(e,n){t(),e||(e=$("#contextMenu")),e&&e.remove()}});