$(function(){!function(){var t=$("#trainingOverlayTemplate");t.find(".trainingInnerBorder").remove();for(var e=t.find(".trainingContent"),a=["D","T","S","R"],n=0;n<a.length;n++){var i=a[n];e.append('<div class="tm-training-overlay tm-training-overlay-'+i+'"><div class="tm-training-overlay-left tm-icon tm-icon-'+i+'"></div><div class="tm-training-overlay-right"></div></div>'),e.find(".training"+i+".trainingColumnLeft, .training"+i+".trainingColumnRight").appendTo("#trainingOverlayTemplate .tm-training-overlay-"+i+" .tm-training-overlay-left"),e.find(".training"+i+".trainingGain").appendTo("#trainingOverlayTemplate .tm-training-overlay-"+i+" .tm-training-overlay-right")}}(),tagMod.patch(UI,"showTrainingMenu",function(){$("#researchMenu").addClass("tm-training-menu")},function(){var t=$("#researchMenu");t.find(".staffInfoPanel").remove();var n=GameManager.company.staff.first(function(t){return t.id===GameManager.uiSettings.selectedChar});tagMod.showStaffSideMenu(t,n);var e={};e["Specialization".localize()]="Specialization".localize(),e["Specialists".localize()]="Specialization".localize(),e["Special".localize()]="Specialization".localize(),tagMod.convertSelectList(t.find("#researchButtonContainer"),{tabs:!0,tabMerge:e}),$("#researchMenu .selectableGameFeatureItem").on("click",function(t){var e=$(t.currentTarget).find(".tm-select-content-label").text().trim(),a=Training.getAvailableTraining(n).first(function(t){return 0==t.name.indexOf(e)});Knowledge.hasTrainingKnowledge(a)&&GameManager.areHintsEnabled()&&a.isSkillTraining?($("#researchMenu .tagStaffModuleInfoSkillItemStat.tagDesign .tagStaffModuleInfoSkillItemHint").text(tagMod.getHint(a.dF)),$("#researchMenu .tagStaffModuleInfoSkillItemStat.tagTech .tagStaffModuleInfoSkillItemHint").text(tagMod.getHint(a.tF)),$("#researchMenu .tagStaffModuleInfoSkillItemStat.tagSpeed .tagStaffModuleInfoSkillItemHint").text(tagMod.getHint(a.sF)),$("#researchMenu .tagStaffModuleInfoSkillItemStat.tagResearch .tagStaffModuleInfoSkillItemHint").text(tagMod.getHint(a.rF))):($("#researchMenu .tagStaffModuleInfoSkillItemStat.tagDesign .tagStaffModuleInfoSkillItemHint").text(""),$("#researchMenu .tagStaffModuleInfoSkillItemStat.tagTech .tagStaffModuleInfoSkillItemHint").text(""),$("#researchMenu .tagStaffModuleInfoSkillItemStat.tagSpeed .tagStaffModuleInfoSkillItemHint").text(""),$("#researchMenu .tagStaffModuleInfoSkillItemStat.tagResearch .tagStaffModuleInfoSkillItemHint").text(""))})}),tagMod.patch(UI,"showResearchMenu",function(){$("#researchMenu").removeClass("tm-training-menu")},function(){var t=$("#researchMenu #researchButtonContainer");tagMod.convertSelectList(t),t.find(".featureSelectionCategoryHeading").slice(0,1).remove(),$('<div class="tm-modal-section"></div>').insertAfter("#researchMenu > .windowBorder > .windowTitle"),$("#researchMenu .tm-modal-section").append(t.find(".pickTopicButton").addClass("tm-icon tm-icon-bordered tm-icon-newtopic")),$("#researchButtonContainer .selectableGameFeatureItem").click(function(){tagMod.convertSelectItemContent($("#researchMenu .pickTopicButton"))})})});